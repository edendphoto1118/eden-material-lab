<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>THE FACADE REPORT | 結構視角分析</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:opsz,wght@6..96,400;6..96,600;6..96,700&family=Noto+Serif+TC:wght@300;400;600&family=Helvetica+Neue:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="lock-screen" class="lock-screen">
        <div class="lock-content">
            <div class="masthead">EDEN</div>
            <p class="issue-no">ISSUE 2026. MATERIAL ADVISORY</p>
            <h1 class="lock-title">THE FACADE REPORT</h1>
            
            <div class="input-group">
                <input type="text" id="access-code" placeholder="請輸入邀請碼" autocomplete="off">
                <button id="enter-btn" class="primary-btn">進入解讀</button>
            </div>
            
            <p id="error-msg" class="error-msg"></p>

            <div class="lock-footer">
                <span>尚未持有邀請碼？</span>
                <a href="https://www.instagram.com/eden_d_photo/" target="_blank" class="text-link">私訊 Instagram 獲取</a>
            </div>
        </div>
    </div>

    <div id="app-container" class="container hidden">
        <header class="header">
            <div class="brand">THE FACADE REPORT</div>
        </header>

        <section id="upload-zone" class="upload-zone">
            <div class="upload-frame">
                <input type="file" id="imageInput" accept="image/*">
                <span class="plus-icon">+</span>
                <p class="instruction">載入個人肖像</p>
                <p class="sub-instruction">建議使用臉部置中、光線自然的半身照<br>以獲得最佳視覺效果與分析精準度</p>
            </div>
        </section>

        <div id="loader" class="loader hidden">
            <div class="loading-text-container">
                <p id="loading-text" class="loading-text">CALCULATING SURFACE GEOMETRY...</p>
            </div>
            <div class="loading-bar"><div class="loading-progress"></div></div>
        </div>

        <section id="result-section" class="result-section hidden">
            
            <div class="magazine-cover-wrapper" id="capture-area">
                <div class="magazine-cover">
                    <div class="noise-overlay"></div>
                    <div class="cover-header">
                        <span>THE FACADE REPORT</span>
                        <span>#2026_MQ2</span>
                    </div>
                    
                    <div class="cover-image-container">
                        <div id="preview-bg" class="image-layer"></div>
                        <div class="texture-overlay"></div>
                        <div class="mask-reveal">
                            <h2 id="material-type-en" class="cover-title-en">ANALYZING</h2>
                        </div>
                        <div class="mask-reveal delay-1">
                            <h3 id="material-type-zh" class="cover-title-zh">解構中</h3>
                        </div>
                    </div>
                    
                    <div class="editorial-content">
                        <div class="analysis-body">
                            <h4 class="section-title mask-reveal delay-2">解析結果 / ANALYSIS RESULT</h4>
                            <div class="mask-reveal delay-3">
                                <p id="analysis-text" class="article-text">...</p>
                            </div>
                        </div>

                        <div class="specs-container mask-reveal delay-4">
                            <div class="spec-col">
                                <span class="spec-label">建議光源 / LIGHTING</span>
                                <span id="lighting-req" class="spec-value">...</span>
                            </div>
                            <div class="spec-col">
                                <span class="spec-label">適合材質 / TEXTURE</span>
                                <span id="texture-rec" class="spec-value">...</span>
                            </div>
                        </div>
                            
                        <div class="palette-section mask-reveal delay-5">
                            <span class="spec-label">專屬色號 / PALETTE</span>
                            <div class="color-chips" id="color-chips"></div>
                        </div>
                    </div>

                    <div class="cover-footer">
                        <div class="signature">Visual Direction by EDEN D.</div>
                    </div>
                </div>
            </div>

            <div class="action-panel">
                <p class="cta-guide">分享你的立面原型</p>
                
                <button id="download-btn" class="cta-btn">收藏我的專屬期刊 DOWNLOAD</button>
                
                <a href="https://www.instagram.com/eden_d_photo/" target="_blank" class="secondary-btn">私訊截圖兌換限定拍攝禮遇 CLAIM PERK</a>
            </div>

        </section>
    </div>

    <canvas id="canvas" style="display:none;"></canvas>
    <svg xmlns="http://www.w3.org/2000/svg" class="hidden-svg">
        <filter id="noiseFilter">
            <feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="3" stitchTiles="stitch" result="noise"/>
            <feColorMatrix in="noise" type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.5 0" result="coloredNoise"/>
            <feComposite operator="in" in2="SourceGraphic" in="coloredNoise" result="compositeNoise"/>
        </filter>
    </svg>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
